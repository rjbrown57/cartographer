
<!DOCTYPE html>
<html lang="en">
<script type="module" src="scripts/cartographer.js"></script>
<style>
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.link-card {
	animation: fadeIn 0.5s ease-in-out;
	transition: all 0.2s ease-in-out;
}

.link-card:hover {
	transform: translateY(-2px);
	box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.line-clamp-2 {
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

#linkgrid .list-view-row {
	display: none !important;
}

#linkgrid.list-view {
	display: block;
	border: 1px solid #e5e7eb;
	border-radius: 0.75rem;
	overflow: hidden;
	background: #f9fafb;
}

#listHeader {
	background: #f3f4f6;
	border: 1px solid #e5e7eb;
	border-radius: 0.75rem 0.75rem 0 0;
	box-shadow: none;
}

#listHeader + #linkgrid.list-view {
	border-top: 0;
	border-radius: 0 0 0.75rem 0.75rem;
}

#linkgrid.list-view .link-card {
	padding: 0;
	box-shadow: none;
	border-radius: 0;
	background: transparent;
}

#linkgrid.list-view .link-card:hover {
	transform: none;
	box-shadow: none;
}

#linkgrid.list-view .link-card .card-view {
	display: none;
}

.list-grid {
	display: grid;
	grid-template-columns: 1fr;
	gap: 1rem;
}

@media (min-width: 768px) {
	.list-grid {
		grid-template-columns: 3fr 4fr 5fr;
		align-items: center;
	}
}

#linkgrid.list-view .link-card .list-view-row {
	display: grid !important;
	gap: 0.75rem;
	padding: 0.75rem 1rem;
	align-items: center;
	background: #ffffff;
	border-top: 1px solid #e5e7eb;
	transition: background-color 0.15s ease-in-out;
}

#linkgrid.list-view .link-card:first-child .list-view-row {
	border-top: none;
}

#linkgrid.list-view .link-card .list-view-row:hover {
	background: #f3f4f6;
}

/* Consistent color system */
.text-primary { color: #1f2937; }
.text-secondary { color: #6b7280; }
.text-accent { color: #3b82f6; }
.text-accent-hover { color: #2563eb; }
.bg-primary { background-color: #ffffff; }
.bg-secondary { background-color: #f9fafb; }
.bg-accent { background-color: #3b82f6; }
.bg-accent-hover { background-color: #2563eb; }
.border-primary { border-color: #e5e7eb; }
.border-accent { border-color: #3b82f6; }

/* Improved spacing */
.spacing-xs { margin: 0.25rem; padding: 0.25rem; }
.spacing-sm { margin: 0.5rem; padding: 0.5rem; }
.spacing-md { margin: 1rem; padding: 1rem; }
.spacing-lg { margin: 1.5rem; padding: 1.5rem; }
.spacing-xl { margin: 2rem; padding: 2rem; }

/* Maximize/minimize functionality */
.link-card.maximized {
	z-index: 10;
}

.data-container {
	transition: all 0.3s ease-in-out;
}

.data-container pre {
	font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
	line-height: 1.4;
}

/* Ensure the icon stays on top */
.link-card .absolute {
	z-index: 20;
}

/* Maximized card overlay styles */
#maximized-card-overlay {
	backdrop-filter: blur(4px);
	transition: opacity 0.3s ease-in-out;
}

#maximized-card-overlay .link-card {
	animation: slideInScale 0.3s ease-out;
	box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

@keyframes slideInScale {
	from {
		opacity: 0;
		transform: scale(0.9) translateY(20px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

/* Ensure overlay is above everything */
#maximized-card-overlay {
	z-index: 9999;
}
</style>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{.sitename}}</title>
	<link rel="icon" type="image/x-icon" href="/favicon.ico" />
	<link rel="apple-touch-icon" href="/favicon.ico" />
	<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-secondary min-h-screen">
	    <!-- Navbar -->
    <nav class="bg-gray-800 p-4 shadow-lg relative z-50">
        <div class="container mx-auto flex items-center">
            <div id="home" class="mr-4">
                <a class="text-white hover:text-blue-300 transition-colors flex items-center" href="/">
                    <i class="fa fa-compass-drafting p-2 text-blue-400"></i>
                    <span class="font-semibold">{{ .sitename }}</span>
                </a> 
            </div>
            <div class="mx-4 border-l-2 border-gray-600 h-8"></div>
            <div id="searchBarDiv" class="flex-grow mr-4">
                <div class="relative">
                    <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input id="searchBar" type="text" placeholder="Search links and tags..." class="w-full p-3 pl-10 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                </div>
            </div>
			<div class="flex items-center">
				<button id="viewToggle" class="text-gray-300 hover:text-white focus:outline-none flex items-center px-3 py-2 rounded-lg transition-colors" aria-pressed="false" type="button">
					<i class="fa-solid fa-list mr-2"></i>
					<span>List view</span>
				</button>
			</div>
            <div class="mx-4 border-l-2 border-gray-600 h-8"></div>
            <div class="relative flex-grow">
                <button id="groupButton" class="text-gray-300 hover:text-white focus:outline-none flex items-center px-3 py-2 rounded-lg transition-colors">
                    <i class="fa fa-caret-down mr-2"></i>
                    <span>Groups</span>
                </button>
                <div id="groupdropdown" class="hidden absolute bg-gray-700 text-white rounded-lg shadow-xl mt-2 w-48 border border-gray-600">
                    <div id="groupList" class="max-h-48 overflow-y-auto p-2"></div>
                </div>
            </div>
            <a class="text-white hover:text-blue-300 text-2xl transition-colors" href="https://github.com/rjbrown57/cartographer">
                <i class="fa-brands fa-github p-2"></i>
            </a>
        </div>
	</nav>
	<div class="container mx-auto px-4 py-6">
		<div id="link" class="links">
			<div id="listHeader" class="hidden bg-white rounded-lg shadow-sm ring-1 ring-gray-900/5 px-4 py-2 text-xs font-semibold uppercase text-gray-500 tracking-wide mb-3">
				<div class="list-grid">
					<div>Title</div>
					<div>Description</div>
					<div class="flex items-center gap-2">
						<i class="fa-solid fa-tag"></i>
						<span>Tags</span>
					</div>
				</div>
			</div>
			<div id="linkgrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
			</div>
		</div>
	</div>
</body>
</html>
